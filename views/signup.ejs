<%- include('partials/header') %>

<!-- <form class="flex flex-col gap-4 mx-auto w-96 py-4">
  <label for="image">Image</label>
  <input type="file" name="image" />
  <label for="email" class="text-lg text-gray-500">Email address:</label>
  <input
    type="text"
    name="email"
    placeholder="johndoe@gmail.com"
    class="outline-none p-2 border border-gray-500 rounded"
  />
  <label for="password" class="text-lg text-gray-500">Your password:</label>
  <input
    type="password"
    name="password"
    placeholder="1234doe"
    class="outline-none p-2 border border-gray-500 rounded"
  />
  <button class="bg-orange-300 w-fit mx-auto p-2 rounded">
    Create Account
  </button>
</form> -->

<section class="mt-24">
  <p class="text-center text-4xl text-gray-500 font-sand">Get started now</p>
  <main class="mx-auto flex gap-2 p-4 w-fit">
    <section class="font-sand w-fit my-6 rounded">
      <a href="/auth/twitter" class="text-3xl font-sand"
        ><i class="bi bi-twitter-x"></i
      ></a>
    </section>

    <section class="font-sand w-fit my-6 rounded">
      <a href="/auth/google" class="text-3xl font-sand">
        <i class="bi bi-google"></i
      ></a>
    </section>
  </main>
</section>

<script>
  const form = document.querySelector("form");
  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const email = form.email.value;
    const password = form.password.value;

    try {
      const res = await fetch("/auth/signup", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ email, password }),
      });

      const data = await res.json();

      console.log(data);

      if (data.user) {
        location.assign("/");
      }
      form.email.value = "";
      form.password.value = "";
      form.email.value = "";
      form.password.value = "";
    } catch (error) {
      console.log(error);
    }
  });
</script>

<%- include('partials/footer') %>